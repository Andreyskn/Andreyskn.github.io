(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{197:function(e,t,s){"use strict";s.r(t),s.d(t,"render",(function(){return O})),s.d(t,"handlers",(function(){return x})),s.d(t,"initState",(function(){return m}));var n=s(2),i=s(0),o=s(5),r=s(1),a=(s(304),s(6)),c=(s(305),s(40));const l=Object(a.d)("qa-item",["textarea","question"]),u=({id:e,question:t,answer:s,isExpanded:r,dispatch:a})=>{const[u,d]=Object(i.useState)(!1),p=Object(i.useRef)(null),f=Object(i.useRef)(null),j=e=>{var t,s;"Enter"!==e.key||e.shiftKey||(e.preventDefault(),null===(t=p.current)||void 0===t||t.blur(),null===(s=f.current)||void 0===s||s.blur())},v=r?"none":s?"success":"danger";return Object(n.jsxs)("div",Object.assign({className:l.qaItemBlock()},{children:[u?Object(n.jsx)(o.TextArea,{large:!0,inputRef:e=>f.current=e,value:t,onChange:t=>{a.setQuestion({id:e,question:t.target.value})},onKeyDown:j,onBlur:()=>d(!1),growVertically:!0,fill:!0,autoFocus:!0,className:l.textareaElement({question:!0})},void 0):Object(n.jsx)(o.Button,{minimal:!0,fill:!0,large:!0,alignText:c.a.LEFT,onClick:()=>{a.setExpanded({id:e,isExpanded:!r})},text:t,className:l.questionElement(),intent:v,onContextMenu:t=>{t.preventDefault();o.ContextMenu.show(Object(n.jsxs)(o.Menu,{children:[Object(n.jsx)(o.MenuItem,{icon:"edit",text:"Edit",onClick:()=>d(!0)},void 0),Object(n.jsx)(o.MenuItem,{icon:"cross",text:"Delete",onClick:()=>a.deleteQuestion({id:e})},void 0)]},void 0),{left:t.pageX,top:t.pageY},void 0,!0)}},void 0),Object(n.jsx)(o.Collapse,Object.assign({isOpen:r,keepChildrenMounted:!0},{children:Object(n.jsx)(o.TextArea,{large:!0,inputRef:e=>p.current=e,value:s,onChange:t=>{a.setAnswer({id:e,answer:t.target.value})},onKeyDown:j,growVertically:!0,fill:!0,placeholder:"Answer",className:l.textareaElement({answer:!0})},void 0)}),void 0)]}),void 0)};!function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var s=void 0!==t?t:exports;if(s)if("function"!=typeof s){for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){var i=void 0;try{i=s[n]}catch(e){continue}e.register(i,n,"C:\\MyProjects\\Journal\\src\\plugins\\questions\\components\\QAItem.tsx")}}else e.register(s,"module.exports","C:\\MyProjects\\Journal\\src\\plugins\\questions\\components\\QAItem.tsx")}}();const d=Object(a.d)("questionary",["form","input"]),p=({state:e,dispatch:t})=>Object(n.jsx)("div",Object.assign({className:d.questionaryBlock()},{children:e.items.map(e=>Object(i.createElement)(u,Object.assign({},e,{dispatch:t,key:e.id})))}),void 0);!function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var s=void 0!==t?t:exports;if(s)if("function"!=typeof s){for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){var i=void 0;try{i=s[n]}catch(e){continue}e.register(i,n,"C:\\MyProjects\\Journal\\src\\plugins\\questions\\components\\Questionary.tsx")}}else e.register(s,"module.exports","C:\\MyProjects\\Journal\\src\\plugins\\questions\\components\\Questionary.tsx")}}();const f=({dispatch:e})=>{const[t,s]=Object(i.useState)(!1),a=Object(i.useRef)(null),c=Object(i.useRef)(null),l=()=>{var e;s(!1),null===(e=c.current)||void 0===e||e.reset()};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(o.Button,{text:"Add question",icon:"plus",onClick:()=>{s(!0)},elementRef:a},void 0),Object(n.jsx)(o.Dialog,Object.assign({className:r.Classes.DARK,style:{padding:15},onClosed:()=>{var e;null===(e=a.current)||void 0===e||e.focus()},isOpen:t,onClose:l},{children:Object(n.jsx)("form",Object.assign({onSubmit:t=>{t.preventDefault();const s=t.currentTarget.elements[0];s.value&&(e.addQuestion({question:s.value}),l())},ref:c},{children:Object(n.jsx)("input",{type:"text",autoFocus:!0,className:r.Classes.INPUT+" "+r.Classes.FILL,placeholder:"Enter question"},void 0)}),void 0)}),void 0)]},void 0)};!function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var s=void 0!==t?t:exports;if(s)if("function"!=typeof s){for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){var i=void 0;try{i=s[n]}catch(e){continue}e.register(i,n,"C:\\MyProjects\\Journal\\src\\plugins\\questions\\components\\index.tsx")}}else e.register(s,"module.exports","C:\\MyProjects\\Journal\\src\\plugins\\questions\\components\\index.tsx")}}();const j={addQuestion:(e,{question:t})=>{const s={id:Object(a.g)(),question:t,answer:"",isExpanded:!0};return Object.assign(Object.assign({},e),{items:[s,...e.items]})},deleteQuestion:(e,{id:t})=>Object.assign(Object.assign({},e),{items:e.items.filter(e=>e.id!==t)}),setAnswer:(e,{id:t,answer:s})=>Object.assign(Object.assign({},e),{items:e.items.map(e=>e.id===t?Object.assign(Object.assign({},e),{answer:s}):e)}),setQuestion:(e,{id:t,question:s})=>Object.assign(Object.assign({},e),{items:e.items.map(e=>e.id===t?Object.assign(Object.assign({},e),{question:s}):e)}),setExpanded:(e,{id:t,isExpanded:s})=>Object.assign(Object.assign({},e),{items:e.items.map(e=>e.id===t?Object.assign(Object.assign({},e),{isExpanded:s}):e)})};!function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var s=void 0!==t?t:exports;if(s)if("function"!=typeof s){for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){var i=void 0;try{i=s[n]}catch(e){continue}e.register(i,n,"C:\\MyProjects\\Journal\\src\\plugins\\questions\\handlers.ts")}}else e.register(s,"module.exports","C:\\MyProjects\\Journal\\src\\plugins\\questions\\handlers.ts")}}();const v=/# (.*)\n> (.*)/,b={items:[]},g={render:(e,t)=>({main:Object(n.jsx)(p,{state:e,dispatch:t},void 0),toolbarContent:Object(n.jsx)(f,{dispatch:t},void 0)}),handlers:j,initState:e=>{if("string"==typeof e){const t=[];return e.split(/\n{2,}/).forEach(e=>{const s=v.exec(e);s&&t.push([s[1],s[2]])}),t.reduceRight((e,[t,s])=>{const n=j.addQuestion(e,{question:t});return j.setAnswer(n,{answer:s,id:n.items[0].id})},b)}return e||b}},{render:O,handlers:x,initState:m}=g;!function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var s=void 0!==t?t:exports;if(s)if("function"!=typeof s){for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){var i=void 0;try{i=s[n]}catch(e){continue}e.register(i,n,"C:\\MyProjects\\Journal\\src\\plugins\\questions\\init.ts")}}else e.register(s,"module.exports","C:\\MyProjects\\Journal\\src\\plugins\\questions\\init.ts")}}()},304:function(e,t,s){},305:function(e,t,s){}}]);